{% extends "template.html" %}

<!--<head> 
  <script src="https://cdn.plot.ly/plotly-latest.min.js"></script>
</head>-->
{% block page_content %}

<div class="wrappers">

  <div class="containersssss">
    <div class="row">
      <div class="col-xs-3">
        <label> Choose the plot type....</label>
        <select class="form-control" id='first_cat'>
          <option value="Bar">Bar</option>
          <option value="Scatter">Double barplot</option>
        </select>
      </div>
      <div class="col-md-6">
        <div class="chart" id="bargraph">
          <script>
            var graphs = {{ plot | safe}};
            Plotly.plot('bargraph', graphs, {});
          </script>
        </div>
      </div>
    </div>
  </div>
  <br> </br>
  <script src="{{ url_for('static', filename='js/jquery-1.11.1.min.js') }}"></script>
  <script src="{{ url_for('static', filename='js/plots.js') }}"></script>
  <script src="{{ url_for('static', filename='js/upload.js') }}"></script>

  {% if len is defined %}
  {% for i in range(0, len) %}
  <h2> Transcription {{i+1}}</h2>
  <audio src="{{ filepaths[i] }}" controls> </audio>
  <div class="header">
    <h3 class="text-muted">Transcription</h3>
    <!--<textarea id="text-value" rows="2" cols="150">{{output[i]}}</textarea>-->
    <textarea id="text-val" rows="2" cols="150">{{output[i]}}</textarea>
    <input type="button" id="dwn-btn" value="Download (.txt)" />
  </div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
<script>
// Start file download.
document.getElementById("dwn-btn").addEventListener("click", function(){
	// Generate download of hello.txt file with some content
	var text = document.getElementById("text-val").value;
	var filename = "Transcription.txt";
	
	download(filename, text);
}, false);
</script>
<form method="POST" action="/result">
<label>Select list</label>
<select class = "form-control" name = "tvalue" id = "rating">
  <option value = "French" >French</option>
  <option value = "American" >American</option>
  <option value = "Spanish" >Spanish</option>
  <option value = "Chinese" >Chinese</option>
</select>
<input type="submit" value="Submit" />
</form>

{% if clouds is defined %}
  <div class="maintainers">
    <img src="data:image/png;base64,{{clouds[i]}}" class="galimage" style="width:500px;height:500px;"
      onerror="hideImage(this);" />
  </div>
{% endif %}
  <div class="maintainer">
    <img src="data:image/png;base64,{{graphs[i]}}" class="galimage" onerror="hideImage(this);" />
  </div>
{% endfor %}

{% endif %}
</div>


<!--<button onclick="topFunction()" id="myBtn" title="Go to top">Top<button>
<script>
  //Get the button
  var mybutton = document.getElementById("myBtn");
  
  // When the user scrolls down 20px from the top of the document, show the button
  window.onscroll = function() {scrollFunction()};
  
  function scrollFunction() {
    if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
      mybutton.style.display = "block";
    } else {
      mybutton.style.display = "none";
    }
  }
  
  // When the user clicks on the button, scroll to the top of the document
  function topFunction() {
    document.body.scrollTop = 0;
    document.documentElement.scrollTop = 0;
  }
  </script>-->

{% endblock %}